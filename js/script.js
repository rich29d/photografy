"use strict";var cropper=null;function modalBtnTypePhoto(){swal({title:"Insira uma foto",text:"\n    <div class='BoxBtnTypePhoto Flexbox W12'>\n      <div class='BoxBtnTypePhoto__Item Flexbox__Item W6'>\n        <a href='javascript:modalWebcam();' type='button' class='BtnTypePhoto--Cam'>\n          <div class='BtnTypePhoto__Image'></div>\n          <div class='BtnTypePhoto__Text'>webcam</div>\n        </a>\n      </div>\n      <div class='BoxBtnTypePhoto__Item Flexbox__Item W6'>\n        <label for='BoxPhoto__InputPhoto' type='button' class='BtnTypePhoto--Upload'>\n          <div class='BtnTypePhoto__Image'></div>\n          <div class='BtnTypePhoto__Text'>upload</div>\n        </label>\n        <input type='file' id='BoxPhoto__InputPhoto' onchange='modalUploadPhoto()'>\n      </div>\n    </div>\n  ",html:!0,confirmButtonText:"Fechar",confirmButtonColor:"#f93e29"})}function modalWebcam(){swal({title:"",text:"\n    <div id='Taked' class='None'></div>\n    <div id='Webcam'></div>\n    <a href='javascript:cropPhoto();' class='BtnCropPhoto None'></a>\n    <a href='javascript:takePhoto();' class='BtnTakePhoto Block'></a>\n  ",html:!0,confirmButtonText:"Fechar",confirmButtonColor:"#f93e29"},function(o){Webcam.reset()}),Webcam.set({width:480,height:360,image_format:"jpg",jpeg_quality:100}),Webcam.attach("#Webcam")}function takePhoto(){Webcam.snap(function(o){var t=document.getElementById("Taked");t.innerHTML='<img id="TakedPhoto" src="'+o+'"/>',t.style.display="block",document.getElementById("Webcam").style.display="none",document.querySelector(".BtnCropPhoto").style.display="block",document.querySelector(".BtnTakePhoto").style.display="none",initCropper(),Webcam.reset()})}function initCropper(){var o=document.getElementById("TakedPhoto");cropper=new Cropper(o,{aspectRatio:1,guides:!1,viewMode:2,autoCropArea:.9})}function cropPhoto(){var o=cropper.getCroppedCanvas().toDataURL("image/jpeg");document.querySelector(".BoxPhoto__Img").style.backgroundImage="url("+o+")",swal.close(),savePhoto(o)}function validFile(o){return!!/jpg|jpeg|png|gif/.test(o.type)||(swal.showInputError("Imagem invalida"),!1)}function modalUploadPhoto(){var o=event,t=URL.createObjectURL(o.target.files[0]);if(validFile(o.target.files[0])){swal({title:"",text:"\n    <div id=\"Taked\"></div>\n    <a href='javascript:cropPhoto();' class='BtnCropPhoto Block'></a>\n  ",html:!0,confirmButtonText:"Fechar",confirmButtonColor:"#f93e29"});var e=document.getElementById("Taked");e.innerHTML='<img id="TakedPhoto" src="'+t+'"/>',e.style.display="block",document.querySelector(".BtnCropPhoto").style.display="block",initCropper()}}function savePhoto(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Headers;fetch("http://richardds.com.br/projetos/mockup/util/success-true.php",{method:"POST",headers:t,body:{imgUrl:o}}).then(function(t){t.ok&&""!=o&&document.querySelector(".BoxPhoto").classList.remove("Empty")})}function removePhoto(){document.querySelector(".BoxPhoto__Img").style.backgroundImage='url("../images/icons/user.svg")',document.querySelector(".BoxPhoto").classList.add("Empty"),savePhoto()}